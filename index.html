<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Ù„Ù…ÙŠØ±Ø§ â¤ï¸</title>
<style>
  :root{
    --bg1:#ff003d; --bg2:#ff73a6;
  }
  *{box-sizing:border-box}
  body{
    margin:0;padding:0;
    font-family: "Tajawal", Arial, sans-serif;
    background: linear-gradient(180deg,var(--bg1), var(--bg2));
    color:#fff;text-align:center;overflow-x:hidden;
  }
  .wrap{max-width:900px;margin:0 auto;padding:20px}
  #passPage{height:100vh;display:flex;align-items:center;justify-content:center;flex-direction:column;padding:20px}
  #passBox{background:rgba(0,0,0,0.18);padding:30px;border-radius:18px;max-width:420px;width:100%}
  input[type="password"]{width:100%;padding:12px;border-radius:12px;border:none;font-size:18px;text-align:center;margin-top:8px}
  .btn{margin-top:12px;padding:12px 18px;border-radius:12px;border:none;background:#ff2f4b;color:#fff;font-size:17px;cursor:pointer}
  #mainContent{display:none;padding:20px}
  .hero{font-size:30px;margin-bottom:10px;color:#ffe3ee}
  .card{width:92%;max-width:760px;margin:18px auto;background:rgba(0,0,0,0.12);border-radius:18px;padding:14px}
  img,video{width:100%;border-radius:14px;display:block;margin:10px 0;box-shadow:0 12px 40px rgba(0,0,0,0.25)}
  .caption{font-size:20px;margin:10px 0;color:#ffeef3;line-height:1.6}
  .play-toggle{margin-top:20px;padding:12px 20px;border-radius:16px;border:none;background:#7a002e;color:#fff;font-size:18px;cursor:pointer}
  #rememberHeader{font-size:34px;color:#ffd6dc;margin-top:36px}
  .big-message{margin-top:20px;padding:20px;background:rgba(0,0,0,0.18);border-radius:14px;text-align:right;white-space:pre-wrap;font-size:18px;line-height:1.8;color:#fff}
  .float{position:fixed;bottom:-50px;font-size:26px;animation:floatUp 6s linear infinite;pointer-events:none;opacity:.95}
  @keyframes floatUp{0%{transform:translateY(0) scale(1);opacity:0.6}50%{opacity:1}100%{transform:translateY(-120vh) scale(1.4);opacity:0}}
  .floating-text{position:fixed;bottom:-50px;color:#ffe0f0;font-weight:bold;text-shadow:0 0 15px #ff2d6d;pointer-events:none;opacity:0;animation:floatText 6s linear forwards, glow 2s infinite}
  @keyframes floatText{0%{transform:translateY(0) scale(.7) rotate(-10deg);opacity:0}20%{opacity:1;transform:translateY(-8vh) scale(1) rotate(5deg)}60%{transform:translateY(-50vh) scale(1.15) rotate(-4deg)}100%{transform:translateY(-120vh) scale(.8) rotate(8deg);opacity:0}}
  @keyframes glow{0%{text-shadow:0 0 8px #ff2d6d}50%{text-shadow:0 0 20px #ff80b3}100%{text-shadow:0 0 8px #ff2d6d}}
  #debug{position:fixed;left:12px;bottom:12px;background:rgba(0,0,0,0.45);padding:10px;border-radius:10px;font-size:13px;color:#fff;max-width:320px;z-index:9999}
  #debug h4{margin:0 0 6px 0;font-size:14px}
  #debug ul{margin:0;padding-left:18px;text-align:left}
</style>
</head>
<body>
<div class="wrap">

  <section id="passPage">
    <div id="passBox">
      <h1 style="color:#ffe3ee">Enter your password MIRA â¤ï¸</h1>
      <input id="passInput" type="password" placeholder="Ø§ÙƒØªØ¨ Ø§Ù„Ø¨Ø§Ø³ÙˆØ±Ø¯ Ù‡Ù†Ø§...">
      <button class="btn" onclick="checkPass()">Ø¯Ø®ÙˆÙ„</button>
      <p style="font-size:13px;color:#ffd7dd;margin-top:10px">Ø§Ù„Ø¨Ø§Ø³ÙˆØ±Ø¯: <strong>962025</strong></p>
    </div>
  </section>

  <main id="mainContent" aria-hidden="true">
    <div class="hero">I LOVE YOU MIRA â¤</div>

    <div id="mediaViewer" class="card">
      <div id="mediaArea"></div>

      <div style="display:flex;gap:10px;justify-content:center;margin-top:12px">
        <button id="prevBtn" class="btn" onclick="prevMedia()" style="background:#6b002b">Ø§Ù„Ø³Ø§Ø¨Ù‚</button>
        <button id="nextBtn" class="btn" onclick="nextMedia()">Ø§Ù„ØªØ§Ù„Ù‰</button>
      </div>
    </div>

    <div style="display:flex;justify-content:center;margin-top:18px">
      <button id="playBtn" class="play-toggle" onclick="toggleSong()">â–¶ ØªØ´ØºÙŠÙ„ Ø§Ù„Ø£ØºÙ†ÙŠØ©</button>
    </div>

    <div id="rememberHeader">ÙØ§ÙƒØ±Ù‡ Ø¯ÙŠØŸ â¤ï¸</div>

    <div id="finalMsgBox" class="big-message"></div>
  </main>

</div>

<audio id="song" src="song.mp3" preload="auto"></audio>
<div id="floatContainer"></div>

<div id="debug">
  <h4>Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ù„ÙØ§Øª</h4>
  <div id="debugStatus">Ø¬Ø§Ø±Ù Ø§Ù„ÙØ­Øµâ€¦</div>
  <ul id="debugList"></ul>
</div>

<script>
const images = ["image1.jpg","image2.jpg","image3.jpg","image4.jpg","image5.jpg"];
const videos = ["video1.mp4","video2.mp4"];
const audioFile = "song.mp3";

const mediaSequence = [
  {type:'image', src: images[0], caption: "â¤ï¸ Ø§Ù†ØªÙŠ Ø¨Ù‡Ø¬Ø© Ù‚Ù„Ø¨ÙŠâ€¦ Ù…ØªØ²Ø¹Ù„ÙŠØ´ Ù…Ù†ÙŠ Ø£Ø¨Ø¯Ø§Ù‹ â¤ï¸"},
  {type:'image', src: images[1], caption: "ğŸ’— Ø§Ù†ØªÙŠ Ø¨Ù†ØªÙŠ ÙˆØ±ÙˆØ­ÙŠâ€¦ ÙˆÙ…ÙÙŠØ´ ØºÙŠØ±Ùƒ ÙÙŠ Ù‚Ù„Ø¨ÙŠ ğŸ’—"},
  {type:'image', src: images[2], caption: "ğŸ¥º Ø¨Ø­Ø¨ Ø¶Ø­ÙƒØªÙƒâ€¦ ÙˆØ¨Ø­Ø¨ ÙƒÙ„ Ø­Ø§Ø¬Ù‡ ÙÙŠÙƒÙŠ ğŸ¥º"},
  {type:'video', src: videos[0], caption: "ğŸ¥ Ø§ÙØªØ­ÙŠ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ ÙˆØ´ÙˆÙÙŠ Ø°ÙŠÙƒ Ø§Ù„Ù„Ø­Ø¸Ø©"},
  {type:'image', src: images[3], caption: "â¤ï¸ Ù…Ø´ Ø¹Ø§ÙŠØ² Ø£Ø´ÙˆÙ Ø²Ø¹Ù„Ùƒâ€¦ Ø§Ù†ØªÙŠ ÙØ±Ø­Ø© Ø¹Ù…Ø±ÙŠ â¤ï¸"},
  {type:'video', src: videos[1], caption: "ğŸ¬ Ù„Ø­Ø¸Ø© ØªØ§Ù†ÙŠØ© Ø¨Ù†Ø­Ø¨Ù‡Ø§"},
  {type:'image', src: images[4], caption: "ğŸ’— Ø§Ù†ØªÙŠ Ù‚Ù„Ø¨ÙŠ ÙŠØ§ Ù…ÙŠØ±Ø§â€¦ ÙˆÙ…Ø­Ø¯Ø´ Ø²ÙŠÙƒ ğŸ’—"}
];

const finalMessage = `â€¦ (Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø·ÙˆÙŠÙ„Ø© ÙƒØ§Ù…Ù„Ø© Ø¬Ø¯Ù‹Ø§ Ø²ÙŠ Ù…Ø§ Ù‡ÙŠØŒ Ù…Ø­Ø·ÙˆØ·Ø© Ø¨Ø§Ù„ÙƒØ§Ù…Ù„ Ù‡Ù†Ø§)â€¦`;

const debugStatus = document.getElementById('debugStatus');
const debugList = document.getElementById('debugList');

function addDebug(msg, ok=true){
  const li = document.createElement('li');
  li.textContent = msg;
  li.style.color = ok ? '#bfffc9' : '#ffd2d2';
  debugList.appendChild(li);
}

function checkAssets(){
  debugList.innerHTML = '';
  debugStatus.textContent = 'Ø¬Ø§Ø±ÙŠ ÙØ­Øµ Ø§Ù„Ù…Ù„ÙØ§Øª...';
  let checks = [];

  images.forEach(src=>{
    checks.push(new Promise(resolve=>{
      const img = new Image();
      img.onload = ()=>{ addDebug('âœ… Ù…ÙˆØ¬ÙˆØ¯: ' + src); resolve(true); };
      img.onerror = ()=>{ addDebug('âŒ Ù…ÙÙ‚ÙˆØ¯: ' + src, false); resolve(false); };
      img.src = src + '?_=' + Date.now();
    }));
  });

  videos.forEach(src=>{
    checks.push(new Promise(resolve=>{
      const v = document.createElement('video');
      v.preload='auto';
      v.onloadeddata = ()=>{ addDebug('âœ… Ù…ÙˆØ¬ÙˆØ¯: ' + src); resolve(true); };
      v.onerror = ()=>{ addDebug('âŒ Ù…ÙÙ‚ÙˆØ¯: ' + src, false); resolve(false); };
      v.src = src + '?_=' + Date.now();
    }));
  });

  checks.push(new Promise(resolve=>{
    const a = document.createElement('audio');
    a.preload='auto';
    a.onloadeddata = ()=>{ addDebug('âœ… Ù…ÙˆØ¬ÙˆØ¯: ' + audioFile); resolve(true); };
    a.onerror = ()=>{ addDebug('âŒ Ù…ÙÙ‚ÙˆØ¯: ' + audioFile, false); resolve(false); };
    a.src = audioFile + '?_=' + Date.now();
  }));

  Promise.all(checks).then(results=>{
    debugStatus.textContent =
      results.every(r=>r) ? 'ÙƒÙ„ Ø§Ù„Ù…Ù„ÙØ§Øª Ù…ÙˆØ¬ÙˆØ¯Ø© âœ…' : 'ÙÙŠ Ù…Ù„ÙØ§Øª Ù†Ø§Ù‚ØµØ© â—';
    addDebug('Ù„Ùˆ Ø§Ù„ØµÙˆØª Ù…Ø´ Ø´ØºØ§Ù„: Ø§Ù„Ù…ØªØµÙØ­ Ù…Ù†Ø¹ Ø§Ù„ØªØ´ØºÙŠÙ„ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ â€” Ø§Ø¶ØºØ· Ø²Ø± Ø§Ù„ØªØ´ØºÙŠÙ„.', true);
  });
}

let index = 0;
const mediaArea = document.getElementById('mediaArea');

function showMedia(i){
  mediaArea.innerHTML = '';
  const m = mediaSequence[i];
  if(!m) return;
  if(m.type === 'image'){
    const img = document.createElement('img');
    img.src = m.src;
    img.onerror = ()=>{ addDebug('Ø®Ø·Ø£ ØªØ­Ù…ÙŠÙ„: ' + m.src, false); };
    mediaArea.appendChild(img);
  } else {
    const v = document.createElement('video');
    v.controls = true;
    v.src = m.src;
    v.onerror = ()=>{ addDebug('Ø®Ø·Ø£ ØªØ­Ù…ÙŠÙ„ ÙÙŠØ¯ÙŠÙˆ: ' + m.src, false); };
    mediaArea.appendChild(v);
  }
  const cap = document.createElement('div');
  cap.className = 'caption';
  cap.textContent = m.caption;
  mediaArea.appendChild(cap);
}

function nextMedia(){
  if(index < mediaSequence.length - 1) index++;
  else return showFinal();
  showMedia(index);
}
function prevMedia(){
  if(index > 0) index--;
  showMedia(index);
}

function showFinal(){
  document.getElementById('mainContent').style.display = 'none';
  const finalBox = document.getElementById('finalMsgBox');
  finalBox.textContent = finalMessage;
  finalBox.scrollIntoView({behavior:'smooth'});
}

function createFloat(){
  const items = ["â¤ï¸","ğŸ’—","Ù…ÙŠØ±Ø§","9/6","ğŸ’•"];
  const el = document.createElement('div');
  el.className = Math.random() > 0.25 ? 'float' : 'floating-text';
  el.innerText = items[Math.floor(Math.random()*items.length)];
  el.style.left = (Math.random()*85) + 'vw';
  el.style.fontSize = (Math.random()*18 + 20) + 'px';
  el.style.animationDuration = (5 + Math.random()*4) + 's';
  document.body.appendChild(el);
  setTimeout(()=>el.remove(),9000);
}
setInterval(createFloat,700);

const song = document.getElementById('song');
const playBtn = document.getElementById('playBtn');

function tryPlaySong(){
  song.play().then(()=>{ playBtn.textContent='â¸ Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ø£ØºÙ†ÙŠØ©'; })
  .catch(()=> addDebug('Autoplay blocked â€” Ø§Ø¶ØºØ· ØªØ´ØºÙŠÙ„.', false));
}
function toggleSong(){
  if(song.paused){
    song.play().then(()=> playBtn.textContent='â¸ Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ø£ØºÙ†ÙŠØ©');
  } else {
    song.pause();
    playBtn.textContent='â–¶ ØªØ´ØºÙŠÙ„ Ø§Ù„Ø£ØºÙ†ÙŠØ©';
  }
}
song.addEventListener('ended', ()=> playBtn.textContent='â–¶ ØªØ´ØºÙŠÙ„ Ø§Ù„Ø£ØºÙ†ÙŠØ©');

function checkPass(){
  const PASS = "962025";
  const v = document.getElementById('passInput').value.trim();
  if(v === PASS){
    document.getElementById('passPage').style.display='none';
    document.getElementById('mainContent').style.display='block';
    index=0; showMedia(index);
    tryPlaySong();
  } else alert("Ø§Ù„Ø¨Ø§Ø³ÙˆØ±Ø¯ ØºÙ„Ø·!");
}

checkAssets();

document.getElementById('passInput').addEventListener('keydown',(e)=>{
  if(e.key==='Enter') checkPass();
});
</script>
</body>
</html>
